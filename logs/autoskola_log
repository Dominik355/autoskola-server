2020-03-23 15:54:21,012 INFO org.springframework.boot.StartupInfoLogger [main] Starting Application on LAPTOP-DI1OUQ7O with PID 6084 (D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity\target\classes started by Dominik in D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity)
2020-03-23 15:54:21,027 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-03-23 15:54:21,030 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-03-23 15:54:26,750 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-03-23 15:54:27,203 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 344ms. Found 12 JPA repository interfaces.
2020-03-23 15:54:29,302 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 15:54:29,318 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 15:54:29,325 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4091b9c3' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 15:54:29,333 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 15:54:29,366 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 15:54:29,368 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 15:54:29,371 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 15:54:31,757 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-03-23 15:54:31,780 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-03-23 15:54:31,781 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-03-23 15:54:31,781 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-03-23 15:54:32,207 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-03-23 15:54:32,208 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 10947 ms
2020-03-23 15:54:32,850 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-03-23 15:54:33,307 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.12.Final
2020-03-23 15:54:33,905 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-03-23 15:54:34,215 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-03-23 15:54:34,762 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-03-23 15:54:34,836 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-03-23 15:54:39,689 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-03-23 15:54:39,711 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-03-23 15:54:41,577 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-03-23 15:54:41,961 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'logFilter' configured for use
2020-03-23 15:54:41,962 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'filterExceptionHandler' configured for use
2020-03-23 15:54:41,963 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'jwtRequestFilter' configured for use
2020-03-23 15:54:45,362 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-03-23 15:54:45,363 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/ui'], []
2020-03-23 15:54:45,363 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-03-23 15:54:45,363 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/**'], []
2020-03-23 15:54:45,364 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-03-23 15:54:45,364 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/webjars/**'], []
2020-03-23 15:54:45,425 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29b2a94c, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ca564aa, org.springframework.security.web.header.HeaderWriterFilter@174aabb2, com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler@740a0d5e, org.springframework.security.web.authentication.logout.LogoutFilter@1cdb290c, com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter@5b827796, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@562ec518, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a5024eb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@108d59b6, org.springframework.security.web.session.SessionManagementFilter@3b1a3125, org.springframework.security.web.access.ExceptionTranslationFilter@7a05cdc8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@65dafe50]
2020-03-23 15:54:45,479 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-03-23 15:54:46,432 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-03-23 15:54:47,117 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-03-23 15:54:47,178 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
2020-03-23 15:54:47,235 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
2020-03-23 15:54:47,278 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
2020-03-23 15:54:48,703 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-03-23 15:54:49,419 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2020-03-23 15:54:49,424 INFO org.springframework.boot.StartupInfoLogger [main] Started Application in 30.309 seconds (JVM running for 31.62)
2020-03-23 15:55:09,469 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-03-23 15:55:09,476 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-03-23 15:55:09,538 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 61 ms
2020-03-23 15:55:09,679 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-1] Address: 0:0:0:0:0:0:0:1, Port: 57912, Host: 0:0:0:0:0:0:0:1, User: null, URI: /authenticate/login, method: POST
2020-03-23 15:55:11,535 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-1] Total time taken to process request: 1.829 seconds
2020-03-23 15:55:50,637 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-3] Address: 0:0:0:0:0:0:0:1, Port: 57912, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getLastRides, method: GET
2020-03-23 15:55:50,695 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-3] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 15:55:50,871 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-3] Timestamp: 2020-03-23T15:55:50.864547400, Status: 500 INTERNAL_SERVER_ERROR, Message: NullPointerException: null
2020-03-23 15:55:50,921 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-3] Total time taken to process request: 0.28200000000000003 seconds
2020-03-23 16:33:10,380 INFO org.springframework.boot.StartupInfoLogger [main] Starting Application on LAPTOP-DI1OUQ7O with PID 15072 (D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity\target\classes started by Dominik in D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity)
2020-03-23 16:33:10,387 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-03-23 16:33:10,389 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-03-23 16:33:14,725 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-03-23 16:33:15,017 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 268ms. Found 12 JPA repository interfaces.
2020-03-23 16:33:16,251 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:33:16,260 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:33:16,266 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@781711b7' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:33:16,272 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:33:16,291 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:33:16,297 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:33:16,300 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:33:18,206 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-03-23 16:33:18,231 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-03-23 16:33:18,233 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-03-23 16:33:18,234 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-03-23 16:33:18,765 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-03-23 16:33:18,766 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 8229 ms
2020-03-23 16:33:19,375 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-03-23 16:33:19,631 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.12.Final
2020-03-23 16:33:20,061 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-03-23 16:33:20,333 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-03-23 16:33:20,684 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-03-23 16:33:20,748 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-03-23 16:33:25,398 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-03-23 16:33:25,422 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-03-23 16:33:26,359 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-03-23 16:33:26,624 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'logFilter' configured for use
2020-03-23 16:33:26,626 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'filterExceptionHandler' configured for use
2020-03-23 16:33:26,627 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'jwtRequestFilter' configured for use
2020-03-23 16:33:28,371 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-03-23 16:33:28,372 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/ui'], []
2020-03-23 16:33:28,373 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-03-23 16:33:28,374 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/**'], []
2020-03-23 16:33:28,375 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-03-23 16:33:28,377 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/webjars/**'], []
2020-03-23 16:33:28,475 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6da86e98, org.springframework.security.web.context.SecurityContextPersistenceFilter@21a462ce, org.springframework.security.web.header.HeaderWriterFilter@649a6d88, com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler@70b6db83, org.springframework.security.web.authentication.logout.LogoutFilter@2cf97875, com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter@6920fa35, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31428f76, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c7f8c25, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a5024eb, org.springframework.security.web.session.SessionManagementFilter@1002c49e, org.springframework.security.web.access.ExceptionTranslationFilter@52737c1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4d0e6424]
2020-03-23 16:33:28,571 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-03-23 16:33:29,005 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-03-23 16:33:29,486 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-03-23 16:33:29,552 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
2020-03-23 16:33:29,619 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
2020-03-23 16:33:29,653 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
2020-03-23 16:33:30,423 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-03-23 16:33:30,943 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2020-03-23 16:33:30,950 INFO org.springframework.boot.StartupInfoLogger [main] Started Application in 21.721 seconds (JVM running for 22.595)
2020-03-23 16:34:37,309 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-03-23 16:34:37,311 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-03-23 16:34:37,338 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 26 ms
2020-03-23 16:34:38,510 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-1] Address: 0:0:0:0:0:0:0:1, Port: 60975, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getLastRides, method: GET
2020-03-23 16:34:38,618 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-1] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 16:34:38,995 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-1] Timestamp: 2020-03-23T16:34:38.985293, Status: 500 INTERNAL_SERVER_ERROR, Message: NullPointerException: null
2020-03-23 16:34:39,165 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-1] Total time taken to process request: 0.627 seconds
2020-03-23 16:39:32,152 INFO org.springframework.boot.StartupInfoLogger [main] Starting Application on LAPTOP-DI1OUQ7O with PID 15156 (D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity\target\classes started by Dominik in D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity)
2020-03-23 16:39:32,159 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-03-23 16:39:32,161 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-03-23 16:39:34,389 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-03-23 16:39:34,721 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 314ms. Found 12 JPA repository interfaces.
2020-03-23 16:39:35,748 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:39:35,760 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:39:35,766 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@414f87a9' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:39:35,796 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:39:35,840 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:39:35,842 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:39:35,844 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:39:36,881 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-03-23 16:39:36,896 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-03-23 16:39:36,898 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-03-23 16:39:36,900 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-03-23 16:39:37,142 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-03-23 16:39:37,143 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4823 ms
2020-03-23 16:39:37,706 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-03-23 16:39:37,926 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.12.Final
2020-03-23 16:39:38,192 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-03-23 16:39:38,349 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-03-23 16:39:38,569 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-03-23 16:39:38,600 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-03-23 16:39:42,162 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-03-23 16:39:42,169 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-03-23 16:39:42,988 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-03-23 16:39:43,187 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'logFilter' configured for use
2020-03-23 16:39:43,188 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'filterExceptionHandler' configured for use
2020-03-23 16:39:43,189 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'jwtRequestFilter' configured for use
2020-03-23 16:39:44,963 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-03-23 16:39:44,964 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/ui'], []
2020-03-23 16:39:44,966 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-03-23 16:39:44,967 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/**'], []
2020-03-23 16:39:44,970 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-03-23 16:39:44,971 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/webjars/**'], []
2020-03-23 16:39:45,028 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ff40324, org.springframework.security.web.context.SecurityContextPersistenceFilter@718e700c, org.springframework.security.web.header.HeaderWriterFilter@28d728f1, com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler@36f6e521, org.springframework.security.web.authentication.logout.LogoutFilter@3ca564aa, com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter@2b9bbaa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10c1682b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7be9e9fc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a22d69f, org.springframework.security.web.session.SessionManagementFilter@6b44121e, org.springframework.security.web.access.ExceptionTranslationFilter@5e0602ff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4607cbe2]
2020-03-23 16:39:45,075 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-03-23 16:39:45,446 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-03-23 16:39:45,800 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-03-23 16:39:45,858 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
2020-03-23 16:39:45,924 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
2020-03-23 16:39:45,954 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
2020-03-23 16:39:46,729 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-03-23 16:39:47,113 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2020-03-23 16:39:47,117 INFO org.springframework.boot.StartupInfoLogger [main] Started Application in 15.953 seconds (JVM running for 16.654)
2020-03-23 16:39:55,613 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-03-23 16:39:55,614 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-03-23 16:39:55,635 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 20 ms
2020-03-23 16:39:56,611 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-1] Address: 0:0:0:0:0:0:0:1, Port: 61472, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getLastRides, method: GET
2020-03-23 16:39:56,789 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-1] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 16:39:57,196 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-1] Timestamp: 2020-03-23T16:39:57.186751200, Status: 500 INTERNAL_SERVER_ERROR, Message: NullPointerException: null
2020-03-23 16:39:57,394 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-1] Total time taken to process request: 0.742 seconds
2020-03-23 16:42:39,479 INFO org.springframework.boot.StartupInfoLogger [main] Starting Application on LAPTOP-DI1OUQ7O with PID 5236 (D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity\target\classes started by Dominik in D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity)
2020-03-23 16:42:39,485 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-03-23 16:42:39,486 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-03-23 16:42:41,675 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-03-23 16:42:41,978 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 285ms. Found 12 JPA repository interfaces.
2020-03-23 16:42:42,937 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:42:42,945 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:42:42,951 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@78fe204a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:42:42,957 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:42:42,970 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:42:42,971 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:42:42,974 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 16:42:44,104 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-03-23 16:42:44,118 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-03-23 16:42:44,120 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-03-23 16:42:44,120 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-03-23 16:42:44,393 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-03-23 16:42:44,394 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4781 ms
2020-03-23 16:42:44,866 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-03-23 16:42:45,014 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.12.Final
2020-03-23 16:42:45,292 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-03-23 16:42:45,470 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-03-23 16:42:45,726 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-03-23 16:42:45,755 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-03-23 16:42:49,363 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-03-23 16:42:49,372 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-03-23 16:42:50,313 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-03-23 16:42:50,578 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'logFilter' configured for use
2020-03-23 16:42:50,579 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'filterExceptionHandler' configured for use
2020-03-23 16:42:50,580 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'jwtRequestFilter' configured for use
2020-03-23 16:42:52,290 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-03-23 16:42:52,291 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/ui'], []
2020-03-23 16:42:52,293 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-03-23 16:42:52,294 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/**'], []
2020-03-23 16:42:52,295 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-03-23 16:42:52,296 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/webjars/**'], []
2020-03-23 16:42:52,348 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d8512e9, org.springframework.security.web.context.SecurityContextPersistenceFilter@50bc0bbd, org.springframework.security.web.header.HeaderWriterFilter@5c8d685e, com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler@16a3cc88, org.springframework.security.web.authentication.logout.LogoutFilter@31beb0d0, com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter@b272860, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5d94c50e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a827b0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46f597f1, org.springframework.security.web.session.SessionManagementFilter@206de1f, org.springframework.security.web.access.ExceptionTranslationFilter@3cd758be, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1de6689c]
2020-03-23 16:42:52,406 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-03-23 16:42:52,717 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-03-23 16:42:53,285 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-03-23 16:42:53,358 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
2020-03-23 16:42:53,400 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
2020-03-23 16:42:53,433 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
2020-03-23 16:42:54,252 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-03-23 16:42:54,570 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2020-03-23 16:42:54,574 INFO org.springframework.boot.StartupInfoLogger [main] Started Application in 16.066 seconds (JVM running for 16.768)
2020-03-23 16:43:11,232 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-03-23 16:43:11,234 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-03-23 16:43:11,248 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 14 ms
2020-03-23 16:43:12,322 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-1] Address: 0:0:0:0:0:0:0:1, Port: 61786, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getLastRides, method: GET
2020-03-23 16:43:12,488 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-1] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 16:43:12,877 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-1] Total time taken to process request: 0.509 seconds
2020-03-23 17:01:24,699 INFO org.springframework.boot.StartupInfoLogger [main] Starting Application on LAPTOP-DI1OUQ7O with PID 2784 (D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity\target\classes started by Dominik in D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity)
2020-03-23 17:01:24,709 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-03-23 17:01:24,711 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-03-23 17:01:27,079 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-03-23 17:01:27,415 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 319ms. Found 12 JPA repository interfaces.
2020-03-23 17:01:28,392 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 17:01:28,399 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 17:01:28,403 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@47c7a9e5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 17:01:28,409 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 17:01:28,433 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 17:01:28,434 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 17:01:28,436 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 17:01:29,671 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-03-23 17:01:29,692 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-03-23 17:01:29,693 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-03-23 17:01:29,694 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-03-23 17:01:29,935 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-03-23 17:01:29,936 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5109 ms
2020-03-23 17:01:30,366 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-03-23 17:01:30,499 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.12.Final
2020-03-23 17:01:30,858 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-03-23 17:01:31,064 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-03-23 17:01:31,312 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-03-23 17:01:31,344 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-03-23 17:01:35,292 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-03-23 17:01:35,300 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-03-23 17:01:36,223 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-03-23 17:01:36,556 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'logFilter' configured for use
2020-03-23 17:01:36,557 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'filterExceptionHandler' configured for use
2020-03-23 17:01:36,560 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'jwtRequestFilter' configured for use
2020-03-23 17:01:38,442 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-03-23 17:01:38,444 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/ui'], []
2020-03-23 17:01:38,447 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-03-23 17:01:38,449 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/**'], []
2020-03-23 17:01:38,450 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-03-23 17:01:38,451 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/webjars/**'], []
2020-03-23 17:01:38,495 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e084a26, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ded31cc, org.springframework.security.web.header.HeaderWriterFilter@ccea4be, com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler@68ea253b, org.springframework.security.web.authentication.logout.LogoutFilter@39ee07a9, com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter@78805df3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6fb2b972, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ca564aa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31c31fa6, org.springframework.security.web.session.SessionManagementFilter@12a7515b, org.springframework.security.web.access.ExceptionTranslationFilter@452d6fd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@60e5b3a8]
2020-03-23 17:01:38,547 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-03-23 17:01:38,908 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-03-23 17:01:39,282 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-03-23 17:01:39,342 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
2020-03-23 17:01:39,368 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
2020-03-23 17:01:39,397 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
2020-03-23 17:01:40,129 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: getMyRidesUsingGET_1
2020-03-23 17:01:40,219 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-03-23 17:01:40,705 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2020-03-23 17:01:40,709 INFO org.springframework.boot.StartupInfoLogger [main] Started Application in 17.245 seconds (JVM running for 17.987)
2020-03-23 17:01:59,459 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-03-23 17:01:59,461 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-03-23 17:01:59,478 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 17 ms
2020-03-23 17:02:00,456 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-1] Address: 0:0:0:0:0:0:0:1, Port: 63524, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/myRides, method: GET
2020-03-23 17:02:00,575 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-1] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 17:02:01,055 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-1] Total time taken to process request: 0.5700000000000001 seconds
2020-03-23 17:04:46,204 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-5] Address: 0:0:0:0:0:0:0:1, Port: 64072, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/myRides, method: GET
2020-03-23 17:04:46,212 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-5] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 17:04:46,233 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-5] Total time taken to process request: 0.027 seconds
2020-03-23 17:05:19,532 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-6] Address: 0:0:0:0:0:0:0:1, Port: 64072, Host: 0:0:0:0:0:0:0:1, User: null, URI: /authenticate/login, method: POST
2020-03-23 17:05:19,996 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-6] Total time taken to process request: 0.461 seconds
2020-03-23 17:06:09,951 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-8] Address: 0:0:0:0:0:0:0:1, Port: 64072, Host: 0:0:0:0:0:0:0:1, User: ivan@gmail.com, URI: /student/freeRides/2020-03-20, method: POST
2020-03-23 17:06:09,960 WARN org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler [http-nio-8080-exec-8] Request method 'POST' not supported
2020-03-23 17:06:28,546 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-10] Address: 0:0:0:0:0:0:0:1, Port: 64072, Host: 0:0:0:0:0:0:0:1, User: ivan@gmail.com, URI: /student/freeRides/2020-03-20, method: GET
2020-03-23 17:06:28,553 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-10] Relation ID is OK, user: ivan@gmail.com, ID: 199
2020-03-23 17:06:28,590 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-10] Total time taken to process request: 0.041 seconds
2020-03-23 17:06:46,400 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-9] Address: 0:0:0:0:0:0:0:1, Port: 64072, Host: 0:0:0:0:0:0:0:1, User: ivan@gmail.com, URI: /student/reserveRide/201, method: GET
2020-03-23 17:06:46,402 WARN org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler [http-nio-8080-exec-9] Request method 'GET' not supported
2020-03-23 17:06:50,849 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-7] Address: 0:0:0:0:0:0:0:1, Port: 64072, Host: 0:0:0:0:0:0:0:1, User: ivan@gmail.com, URI: /student/reserveRide/201, method: POST
2020-03-23 17:06:50,855 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-7] Relation ID is OK, user: ivan@gmail.com, ID: 199
2020-03-23 17:06:50,965 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-7] Total time taken to process request: 0.113 seconds
2020-03-23 17:07:19,389 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-2] Address: 0:0:0:0:0:0:0:1, Port: 64072, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/myRides, method: GET
2020-03-23 17:07:19,400 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-2] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 17:07:19,436 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-2] Total time taken to process request: 0.044 seconds
2020-03-23 17:07:34,246 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-1] Address: 0:0:0:0:0:0:0:1, Port: 64072, Host: 0:0:0:0:0:0:0:1, User: ivan@gmail.com, URI: /student/reserveRide/207, method: POST
2020-03-23 17:07:34,254 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-1] Relation ID is OK, user: ivan@gmail.com, ID: 199
2020-03-23 17:07:34,275 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-1] Total time taken to process request: 0.026000000000000002 seconds
2020-03-23 17:07:36,721 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-3] Address: 0:0:0:0:0:0:0:1, Port: 64072, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/myRides, method: GET
2020-03-23 17:07:36,727 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-3] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 17:07:36,753 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-3] Total time taken to process request: 0.03 seconds
2020-03-23 17:09:11,482 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-6] Address: 0:0:0:0:0:0:0:1, Port: 64619, Host: 0:0:0:0:0:0:0:1, User: ivan@gmail.com, URI: /student/cancelRide/201, method: POST
2020-03-23 17:09:11,493 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-6] Relation ID is OK, user: ivan@gmail.com, ID: 199
2020-03-23 17:09:11,508 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-6] Total time taken to process request: 0.025 seconds
2020-03-23 17:41:22,152 INFO org.springframework.boot.StartupInfoLogger [main] Starting Application on LAPTOP-DI1OUQ7O with PID 6188 (D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity\target\classes started by Dominik in D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity)
2020-03-23 17:41:22,161 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-03-23 17:41:22,179 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-03-23 17:41:24,341 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-03-23 17:41:24,612 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 253ms. Found 12 JPA repository interfaces.
2020-03-23 17:41:25,671 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 17:41:25,678 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 17:41:25,684 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3fa21d49' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 17:41:25,687 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 17:41:25,701 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 17:41:25,703 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 17:41:25,708 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 17:41:26,878 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-03-23 17:41:26,899 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-03-23 17:41:26,901 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-03-23 17:41:26,904 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-03-23 17:41:27,117 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-03-23 17:41:27,117 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4795 ms
2020-03-23 17:41:27,577 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-03-23 17:41:27,713 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.12.Final
2020-03-23 17:41:28,123 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-03-23 17:41:28,411 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-03-23 17:41:28,709 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-03-23 17:41:28,740 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-03-23 17:41:32,470 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-03-23 17:41:32,480 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-03-23 17:41:33,275 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-03-23 17:41:33,527 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'logFilter' configured for use
2020-03-23 17:41:33,531 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'filterExceptionHandler' configured for use
2020-03-23 17:41:33,531 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'jwtRequestFilter' configured for use
2020-03-23 17:41:35,226 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-03-23 17:41:35,227 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/ui'], []
2020-03-23 17:41:35,229 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-03-23 17:41:35,229 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/**'], []
2020-03-23 17:41:35,231 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-03-23 17:41:35,232 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/webjars/**'], []
2020-03-23 17:41:35,274 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6956081d, org.springframework.security.web.context.SecurityContextPersistenceFilter@6cb2b947, org.springframework.security.web.header.HeaderWriterFilter@46e38c28, com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler@50211483, org.springframework.security.web.authentication.logout.LogoutFilter@737ae41a, com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter@19d0d1ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a4c6e74, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@85fd4b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d94c50e, org.springframework.security.web.session.SessionManagementFilter@53813f01, org.springframework.security.web.access.ExceptionTranslationFilter@40e7aea9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@50bc0bbd]
2020-03-23 17:41:35,319 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-03-23 17:41:35,674 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-03-23 17:41:36,113 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-03-23 17:41:36,217 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
2020-03-23 17:41:36,251 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
2020-03-23 17:41:36,285 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
2020-03-23 17:41:36,968 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: getMyRidesUsingGET_1
2020-03-23 17:41:37,027 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-03-23 17:41:37,375 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2020-03-23 17:41:37,380 INFO org.springframework.boot.StartupInfoLogger [main] Started Application in 16.306 seconds (JVM running for 16.958)
2020-03-23 17:59:32,195 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-03-23 17:59:32,196 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-03-23 17:59:32,214 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 18 ms
2020-03-23 17:59:33,234 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-1] Address: 0:0:0:0:0:0:0:1, Port: 52606, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/myRides, method: GET
2020-03-23 17:59:33,348 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-1] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 17:59:33,530 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-1] Timestamp: 2020-03-23T17:59:33.517793400, Status: 400 BAD_REQUEST, Message: Bad date format! use: year-month-day, example: 2020-08-25
2020-03-23 17:59:33,650 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-1] Total time taken to process request: 0.396 seconds
2020-03-23 17:59:42,558 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-4] Address: 0:0:0:0:0:0:0:1, Port: 52611, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/myRides, method: GET
2020-03-23 17:59:42,565 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-4] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 17:59:42,568 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-4] Timestamp: 2020-03-23T17:59:42.568225900, Status: 400 BAD_REQUEST, Message: Bad date format! use: year-month-day, example: 2020-08-25
2020-03-23 17:59:42,577 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-4] Total time taken to process request: 0.017 seconds
2020-03-23 17:59:52,736 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-5] Address: 0:0:0:0:0:0:0:1, Port: 52620, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/myRides, method: GET
2020-03-23 17:59:52,745 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-5] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 17:59:52,839 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-5] Total time taken to process request: 0.10200000000000001 seconds
2020-03-23 18:00:06,803 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-7] Address: 0:0:0:0:0:0:0:1, Port: 52620, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/myRides, method: GET
2020-03-23 18:00:06,818 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-7] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:00:06,851 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-7] Total time taken to process request: 0.047 seconds
2020-03-23 18:03:08,447 INFO org.springframework.boot.StartupInfoLogger [main] Starting Application on LAPTOP-DI1OUQ7O with PID 8996 (D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity\target\classes started by Dominik in D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity)
2020-03-23 18:03:08,453 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-03-23 18:03:08,454 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-03-23 18:03:11,332 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-03-23 18:03:11,587 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 239ms. Found 12 JPA repository interfaces.
2020-03-23 18:03:12,787 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:03:12,797 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:03:12,803 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4087c7fc' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:03:12,812 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:03:12,833 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:03:12,835 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:03:12,837 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:03:14,221 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-03-23 18:03:14,258 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-03-23 18:03:14,259 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-03-23 18:03:14,261 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-03-23 18:03:14,497 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-03-23 18:03:14,498 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5859 ms
2020-03-23 18:03:14,969 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-03-23 18:03:15,148 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.12.Final
2020-03-23 18:03:15,669 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-03-23 18:03:16,108 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-03-23 18:03:16,867 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-03-23 18:03:16,936 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-03-23 18:03:21,126 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-03-23 18:03:21,149 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-03-23 18:03:22,448 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-03-23 18:03:22,855 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'logFilter' configured for use
2020-03-23 18:03:22,856 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'filterExceptionHandler' configured for use
2020-03-23 18:03:22,873 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'jwtRequestFilter' configured for use
2020-03-23 18:03:26,950 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-03-23 18:03:26,951 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/ui'], []
2020-03-23 18:03:26,952 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-03-23 18:03:26,953 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/**'], []
2020-03-23 18:03:26,954 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-03-23 18:03:26,954 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/webjars/**'], []
2020-03-23 18:03:27,031 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ce03a9d, org.springframework.security.web.context.SecurityContextPersistenceFilter@4cff38ff, org.springframework.security.web.header.HeaderWriterFilter@25630ede, com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler@296edc75, org.springframework.security.web.authentication.logout.LogoutFilter@1dbb9a4a, com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter@6bec566e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3feb93a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77f95e19, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10c67c1c, org.springframework.security.web.session.SessionManagementFilter@6a827b0c, org.springframework.security.web.access.ExceptionTranslationFilter@570ede3b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c3e7128]
2020-03-23 18:03:27,097 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-03-23 18:03:27,631 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-03-23 18:03:28,726 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-03-23 18:03:28,823 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
2020-03-23 18:03:28,912 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
2020-03-23 18:03:29,052 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
2020-03-23 18:03:30,304 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: getMyRidesUsingGET_1
2020-03-23 18:03:30,539 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-03-23 18:03:31,190 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2020-03-23 18:03:31,201 INFO org.springframework.boot.StartupInfoLogger [main] Started Application in 24.035 seconds (JVM running for 25.126)
2020-03-23 18:04:41,625 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-03-23 18:04:41,629 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-03-23 18:04:41,674 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 44 ms
2020-03-23 18:04:42,792 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-1] Address: 0:0:0:0:0:0:0:1, Port: 52922, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/myRides, method: GET
2020-03-23 18:04:43,097 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-1] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:04:43,397 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-1] Total time taken to process request: 0.5640000000000001 seconds
2020-03-23 18:04:55,831 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-3] Address: 0:0:0:0:0:0:0:1, Port: 52922, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/myRides, method: GET
2020-03-23 18:04:55,839 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-3] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:04:55,899 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-3] Total time taken to process request: 0.066 seconds
2020-03-23 18:05:26,679 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-4] Address: 0:0:0:0:0:0:0:1, Port: 52922, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getLastRides, method: GET
2020-03-23 18:05:26,689 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-4] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:05:26,783 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-4] Total time taken to process request: 0.10300000000000001 seconds
2020-03-23 18:06:07,373 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-5] Address: 0:0:0:0:0:0:0:1, Port: 52922, Host: 0:0:0:0:0:0:0:1, User: ivan@gmail.com, URI: /student/myRides, method: GET
2020-03-23 18:06:07,392 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-5] Relation ID is OK, user: ivan@gmail.com, ID: 199
2020-03-23 18:06:07,453 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-5] Timestamp: 2020-03-23T18:06:07.450696900, Status: 400 BAD_REQUEST, Message: Bad date format! use: year-month-day, example: 2020-08-25
2020-03-23 18:06:07,478 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-5] Total time taken to process request: 0.10300000000000001 seconds
2020-03-23 18:06:13,722 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-6] Address: 0:0:0:0:0:0:0:1, Port: 53054, Host: 0:0:0:0:0:0:0:1, User: ivan@gmail.com, URI: /student/myRides, method: GET
2020-03-23 18:06:13,730 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-6] Relation ID is OK, user: ivan@gmail.com, ID: 199
2020-03-23 18:06:13,732 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-6] Timestamp: 2020-03-23T18:06:13.732441700, Status: 400 BAD_REQUEST, Message: Bad date format! use: year-month-day, example: 2020-08-25
2020-03-23 18:06:13,736 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-6] Total time taken to process request: 0.013000000000000001 seconds
2020-03-23 18:07:10,190 INFO org.springframework.boot.StartupInfoLogger [main] Starting Application on LAPTOP-DI1OUQ7O with PID 8312 (D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity\target\classes started by Dominik in D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity)
2020-03-23 18:07:10,199 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-03-23 18:07:10,202 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-03-23 18:07:13,327 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-03-23 18:07:13,594 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 247ms. Found 12 JPA repository interfaces.
2020-03-23 18:07:14,681 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:07:14,687 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:07:14,694 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7a3269f5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:07:14,697 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:07:14,718 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:07:14,721 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:07:14,726 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:07:15,894 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-03-23 18:07:15,918 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-03-23 18:07:15,920 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-03-23 18:07:15,920 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-03-23 18:07:16,204 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-03-23 18:07:16,205 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5891 ms
2020-03-23 18:07:16,672 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-03-23 18:07:16,879 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.12.Final
2020-03-23 18:07:17,314 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-03-23 18:07:17,512 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-03-23 18:07:17,830 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-03-23 18:07:17,874 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-03-23 18:07:22,064 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-03-23 18:07:22,075 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-03-23 18:07:22,920 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-03-23 18:07:23,209 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'logFilter' configured for use
2020-03-23 18:07:23,211 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'filterExceptionHandler' configured for use
2020-03-23 18:07:23,212 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'jwtRequestFilter' configured for use
2020-03-23 18:07:24,971 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-03-23 18:07:24,972 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/ui'], []
2020-03-23 18:07:24,973 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-03-23 18:07:24,974 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/**'], []
2020-03-23 18:07:24,974 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-03-23 18:07:24,974 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/webjars/**'], []
2020-03-23 18:07:25,038 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5cdf61d, org.springframework.security.web.context.SecurityContextPersistenceFilter@38dc1c50, org.springframework.security.web.header.HeaderWriterFilter@425376cc, com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler@696b52bc, org.springframework.security.web.authentication.logout.LogoutFilter@6956081d, com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter@f26cd76, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40f931ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f3fafca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4509414e, org.springframework.security.web.session.SessionManagementFilter@7e864fa4, org.springframework.security.web.access.ExceptionTranslationFilter@6b8a9e1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4131f6db]
2020-03-23 18:07:25,080 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-03-23 18:07:25,411 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-03-23 18:07:25,825 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-03-23 18:07:25,930 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
2020-03-23 18:07:25,992 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
2020-03-23 18:07:26,048 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
2020-03-23 18:07:26,797 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: getMyRidesUsingGET_1
2020-03-23 18:07:26,907 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-03-23 18:07:27,564 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2020-03-23 18:07:27,571 INFO org.springframework.boot.StartupInfoLogger [main] Started Application in 18.619 seconds (JVM running for 19.39)
2020-03-23 18:07:41,921 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-03-23 18:07:41,925 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-03-23 18:07:41,982 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 55 ms
2020-03-23 18:07:42,978 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-1] Address: 0:0:0:0:0:0:0:1, Port: 53247, Host: 0:0:0:0:0:0:0:1, User: ivan@gmail.com, URI: /student/myRides, method: GET
2020-03-23 18:07:43,182 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-1] Relation ID is OK, user: ivan@gmail.com, ID: 199
2020-03-23 18:07:43,487 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-1] Total time taken to process request: 0.454 seconds
2020-03-23 18:31:28,244 INFO org.springframework.boot.StartupInfoLogger [main] Starting Application on LAPTOP-DI1OUQ7O with PID 12428 (D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity\target\classes started by Dominik in D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity)
2020-03-23 18:31:28,256 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-03-23 18:31:28,258 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-03-23 18:31:31,323 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-03-23 18:31:31,632 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 285ms. Found 12 JPA repository interfaces.
2020-03-23 18:31:32,827 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:31:32,867 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:31:32,877 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@c689973' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:31:32,885 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:31:32,906 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:31:32,908 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:31:32,911 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:31:34,204 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-03-23 18:31:34,228 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-03-23 18:31:34,229 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-03-23 18:31:34,230 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-03-23 18:31:34,656 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-03-23 18:31:34,657 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6256 ms
2020-03-23 18:31:35,310 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-03-23 18:31:35,532 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.12.Final
2020-03-23 18:31:35,858 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-03-23 18:31:36,159 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-03-23 18:31:36,428 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-03-23 18:31:36,456 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-03-23 18:31:40,802 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-03-23 18:31:40,810 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-03-23 18:31:41,924 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-03-23 18:31:42,213 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'logFilter' configured for use
2020-03-23 18:31:42,214 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'filterExceptionHandler' configured for use
2020-03-23 18:31:42,215 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'jwtRequestFilter' configured for use
2020-03-23 18:31:45,099 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-03-23 18:31:45,100 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/ui'], []
2020-03-23 18:31:45,101 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-03-23 18:31:45,102 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/**'], []
2020-03-23 18:31:45,102 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-03-23 18:31:45,102 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/webjars/**'], []
2020-03-23 18:31:45,149 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4509414e, org.springframework.security.web.context.SecurityContextPersistenceFilter@33b4c775, org.springframework.security.web.header.HeaderWriterFilter@72fa021, com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler@5b2b8d86, org.springframework.security.web.authentication.logout.LogoutFilter@5d94c50e, com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter@3c468360, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45689582, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@47b71556, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36e9794c, org.springframework.security.web.session.SessionManagementFilter@5f3fafca, org.springframework.security.web.access.ExceptionTranslationFilter@2cf97875, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5cdf61d]
2020-03-23 18:31:45,190 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-03-23 18:31:45,688 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-03-23 18:31:46,271 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-03-23 18:31:46,323 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
2020-03-23 18:31:46,357 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
2020-03-23 18:31:46,386 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
2020-03-23 18:31:47,214 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: getMyRidesUsingGET_1
2020-03-23 18:31:47,332 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-03-23 18:31:47,809 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2020-03-23 18:31:47,813 INFO org.springframework.boot.StartupInfoLogger [main] Started Application in 20.678 seconds (JVM running for 21.313)
2020-03-23 18:32:25,267 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-03-23 18:32:25,268 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-03-23 18:32:25,337 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 68 ms
2020-03-23 18:32:25,463 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-1] Address: 0:0:0:0:0:0:0:1, Port: 50339, Host: 0:0:0:0:0:0:0:1, User: null, URI: /authenticate/login, method: POST
2020-03-23 18:32:26,654 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-1] Total time taken to process request: 1.1 seconds
2020-03-23 18:33:03,484 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-3] Address: 0:0:0:0:0:0:0:1, Port: 50339, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instrucotr/getCompletedRides, method: GET
2020-03-23 18:33:03,593 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-3] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:33:03,601 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-3] Total time taken to process request: 0.109 seconds
2020-03-23 18:33:03,636 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-3] Timestamp: 2020-03-23T18:33:03.633686200, Status: 404 NOT_FOUND, Message: User Not Found: anonymousUser
2020-03-23 18:33:03,657 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-3] Total time taken to process request: 0.043000000000000003 seconds
2020-03-23 18:33:43,345 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-4] Address: 0:0:0:0:0:0:0:1, Port: 50339, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instrucotr/getCompletedRides/2020-03-18, method: GET
2020-03-23 18:33:43,358 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-4] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:33:43,362 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-4] Total time taken to process request: 0.013000000000000001 seconds
2020-03-23 18:33:43,367 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-4] Timestamp: 2020-03-23T18:33:43.367901400, Status: 404 NOT_FOUND, Message: User Not Found: anonymousUser
2020-03-23 18:33:43,369 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-4] Total time taken to process request: 0.005 seconds
2020-03-23 18:33:52,388 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-5] Address: 0:0:0:0:0:0:0:1, Port: 50339, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instrucotr/getCompletedRides/2020-03-19, method: GET
2020-03-23 18:33:52,400 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-5] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:33:52,404 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-5] Total time taken to process request: 0.014 seconds
2020-03-23 18:33:52,408 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-5] Timestamp: 2020-03-23T18:33:52.408909900, Status: 404 NOT_FOUND, Message: User Not Found: anonymousUser
2020-03-23 18:33:52,413 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-5] Total time taken to process request: 0.007 seconds
2020-03-23 18:34:26,317 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-6] Address: 0:0:0:0:0:0:0:1, Port: 50339, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instrucotr/getCompletedRides/2020-03-19, method: GET
2020-03-23 18:34:26,324 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-6] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:34:26,328 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-6] Total time taken to process request: 0.009000000000000001 seconds
2020-03-23 18:34:26,332 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-6] Timestamp: 2020-03-23T18:34:26.332296100, Status: 404 NOT_FOUND, Message: User Not Found: anonymousUser
2020-03-23 18:34:26,338 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-6] Total time taken to process request: 0.008 seconds
2020-03-23 18:34:38,336 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-7] Address: 0:0:0:0:0:0:0:1, Port: 50339, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instrucotr/getCompletedRides/2020-03-19, method: GET
2020-03-23 18:34:38,345 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-7] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:34:38,349 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-7] Total time taken to process request: 0.008 seconds
2020-03-23 18:34:38,354 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-7] Timestamp: 2020-03-23T18:34:38.353030600, Status: 404 NOT_FOUND, Message: User Not Found: anonymousUser
2020-03-23 18:34:38,358 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-7] Total time taken to process request: 0.007 seconds
2020-03-23 18:34:51,876 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-8] Address: 0:0:0:0:0:0:0:1, Port: 50339, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instrucotr/getCompletedRides/2020-03-19, method: GET
2020-03-23 18:34:51,880 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-8] Total time taken to process request: 0.002 seconds
2020-03-23 18:34:51,886 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-8] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.io.IOException: Exception hodena v interceptori, RelationID = null
	at com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor.preHandle(AuthInterceptor.java:42)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1035)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.AutoskolaDemoWithSecurity.filters.LogFilter.doFilterInternal(LogFilter.java:31)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:76)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler.doFilterInternal(FilterExceptionHandler.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:830)
2020-03-23 18:34:51,889 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-8] Timestamp: 2020-03-23T18:34:51.889137300, Status: 500 INTERNAL_SERVER_ERROR, Message: Exception hodena v interceptori, RelationID = null
2020-03-23 18:34:51,893 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-8] Total time taken to process request: 0.005 seconds
2020-03-23 18:34:56,041 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-9] Address: 0:0:0:0:0:0:0:1, Port: 50616, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instrucotr/getCompletedRides/2020-03-19, method: GET
2020-03-23 18:34:56,048 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-9] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:34:56,052 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-9] Total time taken to process request: 0.009000000000000001 seconds
2020-03-23 18:34:56,056 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-9] Timestamp: 2020-03-23T18:34:56.056581300, Status: 404 NOT_FOUND, Message: User Not Found: anonymousUser
2020-03-23 18:34:56,059 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-9] Total time taken to process request: 0.005 seconds
2020-03-23 18:35:24,006 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-2] Address: 0:0:0:0:0:0:0:1, Port: 50616, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instrucotr/getCompletedRides/2020-03-19, method: GET
2020-03-23 18:35:24,014 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-2] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:35:24,017 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-2] Total time taken to process request: 0.009000000000000001 seconds
2020-03-23 18:35:24,021 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-2] Timestamp: 2020-03-23T18:35:24.021512, Status: 404 NOT_FOUND, Message: User Not Found: anonymousUser
2020-03-23 18:35:24,024 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-2] Total time taken to process request: 0.005 seconds
2020-03-23 18:35:50,188 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-1] Address: 0:0:0:0:0:0:0:1, Port: 50616, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getCompletedRides/2020-03-19, method: GET
2020-03-23 18:35:50,197 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-1] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:35:50,291 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-1] Total time taken to process request: 0.1 seconds
2020-03-23 18:35:50,295 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 10] with root cause
java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 10
	at java.base/java.lang.String.checkBoundsBeginEnd(String.java:3720)
	at java.base/java.lang.String.substring(String.java:1909)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController.getCompletedRides(InstructorController.java:116)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController$$FastClassBySpringCGLIB$$e2b69ac9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:120)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController$$EnhancerBySpringCGLIB$$e652dae5.getCompletedRides(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.AutoskolaDemoWithSecurity.filters.LogFilter.doFilterInternal(LogFilter.java:31)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:76)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler.doFilterInternal(FilterExceptionHandler.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:830)
2020-03-23 18:35:50,299 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-1] Timestamp: 2020-03-23T18:35:50.299970300, Status: 404 NOT_FOUND, Message: User Not Found: anonymousUser
2020-03-23 18:35:50,315 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-1] Total time taken to process request: 0.018000000000000002 seconds
2020-03-23 18:36:20,810 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-3] Address: 0:0:0:0:0:0:0:1, Port: 50616, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getCompletedRides/2020-03-19, method: GET
2020-03-23 18:36:20,816 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-3] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:36:20,818 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-3] Total time taken to process request: 0.006 seconds
2020-03-23 18:36:20,819 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-3] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 10] with root cause
java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 10
	at java.base/java.lang.String.checkBoundsBeginEnd(String.java:3720)
	at java.base/java.lang.String.substring(String.java:1909)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController.getCompletedRides(InstructorController.java:116)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController$$FastClassBySpringCGLIB$$e2b69ac9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:120)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController$$EnhancerBySpringCGLIB$$e652dae5.getCompletedRides(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.AutoskolaDemoWithSecurity.filters.LogFilter.doFilterInternal(LogFilter.java:31)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:76)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler.doFilterInternal(FilterExceptionHandler.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:830)
2020-03-23 18:36:20,827 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-3] Timestamp: 2020-03-23T18:36:20.827044, Status: 404 NOT_FOUND, Message: User Not Found: anonymousUser
2020-03-23 18:36:20,830 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-3] Total time taken to process request: 0.006 seconds
2020-03-23 18:36:30,426 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-4] Address: 0:0:0:0:0:0:0:1, Port: 50616, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getCompletedRides, method: GET
2020-03-23 18:36:30,433 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-4] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:36:30,438 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-4] Total time taken to process request: 0.01 seconds
2020-03-23 18:36:30,443 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-4] Timestamp: 2020-03-23T18:36:30.443805100, Status: 404 NOT_FOUND, Message: User Not Found: anonymousUser
2020-03-23 18:36:30,446 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-4] Total time taken to process request: 0.006 seconds
2020-03-23 18:36:59,639 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-5] Address: 0:0:0:0:0:0:0:1, Port: 50616, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getCompletedRides/hgfg, method: GET
2020-03-23 18:36:59,645 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-5] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:36:59,647 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-5] Timestamp: 2020-03-23T18:36:59.647709500, Status: 400 BAD_REQUEST, Message: Bad date format! use: year-month-day, example: 2020-08-25
2020-03-23 18:36:59,651 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-5] Total time taken to process request: 0.011 seconds
2020-03-23 18:37:19,345 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-6] Address: 0:0:0:0:0:0:0:1, Port: 50834, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getCompletedRides/2020-03-18, method: GET
2020-03-23 18:37:19,354 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-6] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:37:19,356 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-6] Total time taken to process request: 0.007 seconds
2020-03-23 18:37:19,358 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-6] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 10] with root cause
java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 10
	at java.base/java.lang.String.checkBoundsBeginEnd(String.java:3720)
	at java.base/java.lang.String.substring(String.java:1909)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController.getCompletedRides(InstructorController.java:116)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController$$FastClassBySpringCGLIB$$e2b69ac9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:120)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController$$EnhancerBySpringCGLIB$$e652dae5.getCompletedRides(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.AutoskolaDemoWithSecurity.filters.LogFilter.doFilterInternal(LogFilter.java:31)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:76)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler.doFilterInternal(FilterExceptionHandler.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:830)
2020-03-23 18:37:19,367 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-6] Timestamp: 2020-03-23T18:37:19.366197100, Status: 404 NOT_FOUND, Message: User Not Found: anonymousUser
2020-03-23 18:37:19,374 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-6] Total time taken to process request: 0.011 seconds
2020-03-23 18:37:25,281 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-8] Address: 0:0:0:0:0:0:0:1, Port: 50834, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getCompletedRides/2020-03-19, method: GET
2020-03-23 18:37:25,290 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-8] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:37:25,292 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-8] Total time taken to process request: 0.007 seconds
2020-03-23 18:37:25,293 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-8] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 10] with root cause
java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 10
	at java.base/java.lang.String.checkBoundsBeginEnd(String.java:3720)
	at java.base/java.lang.String.substring(String.java:1909)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController.getCompletedRides(InstructorController.java:116)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController$$FastClassBySpringCGLIB$$e2b69ac9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:120)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController$$EnhancerBySpringCGLIB$$e652dae5.getCompletedRides(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.AutoskolaDemoWithSecurity.filters.LogFilter.doFilterInternal(LogFilter.java:31)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:76)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler.doFilterInternal(FilterExceptionHandler.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:830)
2020-03-23 18:37:25,298 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-8] Timestamp: 2020-03-23T18:37:25.298129700, Status: 404 NOT_FOUND, Message: User Not Found: anonymousUser
2020-03-23 18:37:25,301 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-8] Total time taken to process request: 0.005 seconds
2020-03-23 18:38:58,545 INFO org.springframework.boot.StartupInfoLogger [main] Starting Application on LAPTOP-DI1OUQ7O with PID 2632 (D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity\target\classes started by Dominik in D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity)
2020-03-23 18:38:58,557 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-03-23 18:38:58,558 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-03-23 18:39:02,873 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-03-23 18:39:03,512 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 613ms. Found 12 JPA repository interfaces.
2020-03-23 18:39:05,230 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:39:05,238 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:39:05,248 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@21bd128b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:39:05,257 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:39:05,289 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:39:05,291 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:39:05,295 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:39:06,716 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-03-23 18:39:06,756 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-03-23 18:39:06,758 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-03-23 18:39:06,758 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-03-23 18:39:07,149 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-03-23 18:39:07,150 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 8421 ms
2020-03-23 18:39:09,583 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-03-23 18:39:09,876 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.12.Final
2020-03-23 18:39:10,423 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-03-23 18:39:10,802 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-03-23 18:39:11,211 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-03-23 18:39:11,244 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-03-23 18:39:19,789 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-03-23 18:39:19,808 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-03-23 18:39:21,212 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-03-23 18:39:21,748 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'logFilter' configured for use
2020-03-23 18:39:21,757 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'filterExceptionHandler' configured for use
2020-03-23 18:39:21,758 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'jwtRequestFilter' configured for use
2020-03-23 18:39:25,843 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-03-23 18:39:25,844 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/ui'], []
2020-03-23 18:39:25,845 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-03-23 18:39:25,846 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/**'], []
2020-03-23 18:39:25,847 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-03-23 18:39:25,848 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/webjars/**'], []
2020-03-23 18:39:25,912 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ff40324, org.springframework.security.web.context.SecurityContextPersistenceFilter@718e700c, org.springframework.security.web.header.HeaderWriterFilter@28d728f1, com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler@77cca767, org.springframework.security.web.authentication.logout.LogoutFilter@3ca564aa, com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter@7841c990, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10c1682b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7be9e9fc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a22d69f, org.springframework.security.web.session.SessionManagementFilter@6b44121e, org.springframework.security.web.access.ExceptionTranslationFilter@40ef385f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4607cbe2]
2020-03-23 18:39:25,990 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-03-23 18:39:26,603 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-03-23 18:39:27,466 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-03-23 18:39:27,607 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
2020-03-23 18:39:27,703 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
2020-03-23 18:39:27,784 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
2020-03-23 18:39:29,307 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: getMyRidesUsingGET_1
2020-03-23 18:39:29,488 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-03-23 18:39:30,278 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2020-03-23 18:39:30,285 INFO org.springframework.boot.StartupInfoLogger [main] Started Application in 33.588 seconds (JVM running for 34.871)
2020-03-23 18:39:35,332 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-03-23 18:39:35,334 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-03-23 18:39:35,350 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 16 ms
2020-03-23 18:39:36,450 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-1] Address: 0:0:0:0:0:0:0:1, Port: 51089, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getCompletedRides/2020-03-19, method: GET
2020-03-23 18:39:36,588 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-1] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:39:36,795 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-1] Total time taken to process request: 0.307 seconds
2020-03-23 18:39:36,808 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 10] with root cause
java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 10
	at java.base/java.lang.String.checkBoundsBeginEnd(String.java:3720)
	at java.base/java.lang.String.substring(String.java:1909)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController.getCompletedRides(InstructorController.java:118)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController$$FastClassBySpringCGLIB$$e2b69ac9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:120)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController$$EnhancerBySpringCGLIB$$16a0f00b.getCompletedRides(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.AutoskolaDemoWithSecurity.filters.LogFilter.doFilterInternal(LogFilter.java:31)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:76)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler.doFilterInternal(FilterExceptionHandler.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:830)
2020-03-23 18:39:36,858 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-1] Timestamp: 2020-03-23T18:39:36.848992800, Status: 404 NOT_FOUND, Message: User Not Found: anonymousUser
2020-03-23 18:39:36,971 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-1] Total time taken to process request: 0.151 seconds
2020-03-23 18:43:47,713 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-5] Address: 0:0:0:0:0:0:0:1, Port: 51459, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getCompletedRides/2020-03-19, method: GET
2020-03-23 18:43:47,723 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-5] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:43:47,726 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-5] Total time taken to process request: 0.011 seconds
2020-03-23 18:43:47,728 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-5] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 10] with root cause
java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 10
	at java.base/java.lang.String.checkBoundsBeginEnd(String.java:3720)
	at java.base/java.lang.String.substring(String.java:1909)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController.getCompletedRides(InstructorController.java:118)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController$$FastClassBySpringCGLIB$$e2b69ac9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:120)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.example.AutoskolaDemoWithSecurity.controllers.InstructorController$$EnhancerBySpringCGLIB$$16a0f00b.getCompletedRides(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.AutoskolaDemoWithSecurity.filters.LogFilter.doFilterInternal(LogFilter.java:31)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:76)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler.doFilterInternal(FilterExceptionHandler.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:830)
2020-03-23 18:43:47,733 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-5] Timestamp: 2020-03-23T18:43:47.732096700, Status: 404 NOT_FOUND, Message: User Not Found: anonymousUser
2020-03-23 18:43:47,737 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-5] Total time taken to process request: 0.007 seconds
2020-03-23 18:44:32,256 INFO org.springframework.boot.StartupInfoLogger [main] Starting Application on LAPTOP-DI1OUQ7O with PID 3728 (D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity\target\classes started by Dominik in D:\Programove_Subory\NetBeans\projects\AutoskolaDemoWithSecurity)
2020-03-23 18:44:32,262 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-03-23 18:44:32,264 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-03-23 18:44:35,234 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-03-23 18:44:35,552 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 278ms. Found 12 JPA repository interfaces.
2020-03-23 18:44:36,454 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:44:36,461 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:44:36,467 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@39c85c1a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:44:36,471 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:44:36,484 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:44:36,486 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:44:36,488 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-23 18:44:37,672 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-03-23 18:44:37,696 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-03-23 18:44:37,699 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-03-23 18:44:37,700 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-03-23 18:44:37,931 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-03-23 18:44:37,932 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5554 ms
2020-03-23 18:44:38,530 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-03-23 18:44:38,709 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.12.Final
2020-03-23 18:44:38,984 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-03-23 18:44:39,206 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-03-23 18:44:39,473 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-03-23 18:44:39,503 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-03-23 18:44:43,202 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-03-23 18:44:43,214 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-03-23 18:44:44,037 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-03-23 18:44:44,319 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'logFilter' configured for use
2020-03-23 18:44:44,320 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'filterExceptionHandler' configured for use
2020-03-23 18:44:44,322 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'jwtRequestFilter' configured for use
2020-03-23 18:44:46,110 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-03-23 18:44:46,111 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/ui'], []
2020-03-23 18:44:46,113 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-03-23 18:44:46,113 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/configuration/**'], []
2020-03-23 18:44:46,114 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-03-23 18:44:46,115 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/webjars/**'], []
2020-03-23 18:44:46,182 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a7f382, org.springframework.security.web.context.SecurityContextPersistenceFilter@797ca322, org.springframework.security.web.header.HeaderWriterFilter@6fb2b972, com.example.AutoskolaDemoWithSecurity.filters.FilterExceptionHandler@1e30db85, org.springframework.security.web.authentication.logout.LogoutFilter@396f3bf2, com.example.AutoskolaDemoWithSecurity.filters.JwtRequestFilter@1e489957, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c22cf4d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fae357f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a2297d7, org.springframework.security.web.session.SessionManagementFilter@5a5024eb, org.springframework.security.web.access.ExceptionTranslationFilter@2ded31cc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2703785e]
2020-03-23 18:44:46,252 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-03-23 18:44:46,585 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-03-23 18:44:46,935 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-03-23 18:44:46,989 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
2020-03-23 18:44:47,028 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
2020-03-23 18:44:47,056 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
2020-03-23 18:44:47,900 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: getMyRidesUsingGET_1
2020-03-23 18:44:47,997 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-03-23 18:44:48,455 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2020-03-23 18:44:48,458 INFO org.springframework.boot.StartupInfoLogger [main] Started Application in 17.352 seconds (JVM running for 18.153)
2020-03-23 18:45:03,937 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-03-23 18:45:03,938 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-03-23 18:45:03,961 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 22 ms
2020-03-23 18:45:05,369 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-1] Address: 0:0:0:0:0:0:0:1, Port: 51590, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getCompletedRides/2020-03-19, method: GET
2020-03-23 18:45:05,460 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-1] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:45:05,739 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-1] Total time taken to process request: 0.35100000000000003 seconds
2020-03-23 18:45:11,246 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-4] Address: 0:0:0:0:0:0:0:1, Port: 51590, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getCompletedRides/2020-03-18, method: GET
2020-03-23 18:45:11,254 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-4] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:45:11,266 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-4] Total time taken to process request: 0.016 seconds
2020-03-23 18:45:17,291 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-5] Address: 0:0:0:0:0:0:0:1, Port: 51590, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getCompletedRides/2020-03-19T, method: GET
2020-03-23 18:45:17,305 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-5] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:45:17,318 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-5] Total time taken to process request: 0.024 seconds
2020-03-23 18:45:21,791 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-3] Address: 0:0:0:0:0:0:0:1, Port: 51590, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getCompletedRides/2020-03-19Tkjkkkkkkkkkkkkkkkkkkkuyf, method: GET
2020-03-23 18:45:21,801 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-3] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:45:21,825 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-3] Total time taken to process request: 0.032 seconds
2020-03-23 18:45:23,211 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-6] Address: 0:0:0:0:0:0:0:1, Port: 51590, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getCompletedRides/2020-03-19Tkjkkkkkkkkkkkkkkkkkkkuyf, method: GET
2020-03-23 18:45:23,222 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-6] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:45:23,236 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-6] Total time taken to process request: 0.021 seconds
2020-03-23 18:45:37,472 TRACE com.example.AutoskolaDemoWithSecurity.filters.LogFilter [http-nio-8080-exec-7] Address: 0:0:0:0:0:0:0:1, Port: 51590, Host: 0:0:0:0:0:0:0:1, User: robert21@gmail.com, URI: /instructor/getCompletedRides/2020-03-33, method: GET
2020-03-23 18:45:37,478 INFO com.example.AutoskolaDemoWithSecurity.interceptors.AuthInterceptor [http-nio-8080-exec-7] Relation ID is OK, user: robert21@gmail.com, ID: 109
2020-03-23 18:45:37,500 ERROR com.example.AutoskolaDemoWithSecurity.errorApi.RestExceptionHandler [http-nio-8080-exec-7] Timestamp: 2020-03-23T18:45:37.494744800, Status: 400 BAD_REQUEST, Message: You can not use this date
2020-03-23 18:45:37,519 INFO com.example.AutoskolaDemoWithSecurity.interceptors.LogInterceptor [http-nio-8080-exec-7] Total time taken to process request: 0.045 seconds
